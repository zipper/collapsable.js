/*! jQuery Collapsable 2.0.1 | MIT | Radek Šerý, http://zipper.github.io/jquery.collapsable/ */
!function(a){function b(){return"ca-uid-"+l++}function c(b,c){var d=[];this.each(function(){var e=a(this).data("collapsable");if(e){var f=e.parent.uid;-1===d.indexOf(f)&&(d.push(f),e.parent[b](c))}})}function d(){var b=this.opts;(this.$extLinks=a(b.extLinks.selector).filter("a")).length&&this.$extLinks.on("click.collapsable",function(c){b.extLinks.preventDefault&&c.preventDefault();var d=a(a(this).attr("href")).data("collapsable");d&&d.$controlLink.first().trigger(b.event+".collapsable",c)})}function e(){var b=window.location.href,c=b.search(/#/),d=-1,e=-1,f=a(a.map(this.items,function(a){return a.$collapsable.get()}));if(-1===c||(b=b.substring(c+1),e=f.index(a("#"+b)),-1===e||(this.items[e].defaultExpanded=!0,!this.opts.grouped))){if(this.opts.grouped){if(d=f.index(a("."+this.opts.classNames.defaultExpanded)),-1!==d)return void(this.items[d].defaultExpanded=!0)}else{var g=this;f.each(function(b){a(this).hasClass(g.opts.classNames.defaultExpanded)&&(d=b,g.items[b].defaultExpanded=!0)})}-1!==e||-1!==d||this.opts.collapsableAll||(this.items[0].defaultExpanded=!0)}}function f(){var b=a.Event("init.collapsable"),c=this.opts,d=this.items,e=c.fx;c.fx&&(c.fx="toggle");for(var f=d.length,g=!c.collapsableAll,h=0;f>h;h++)d[h].defaultExpanded?(d[h].expand(b,null,g),g=!1):d[h].collapse(b,null,!0);c.fx=e}function g(){var a=this.opts;"slide"!==a.fx&&"fade"!==a.fx||(a.fxDuration=a.fxDuration||500),"slide"===a.fx?a.fx={expand:"slideDown",collapse:"slideUp"}:"fade"===this.opts.fx&&(a.fx={expand:"fadeIn",collapse:"fadeOut"})}function h(){var c=this;c.id||(c.id=b(),c.$collapsable.attr("id",this.id));var d=c.$box.attr("id")||c.id+"-ca-box";c.$box.attr("id",d).data("ca-pre-init-style",c.$box.attr("style")),c.$control.each(function(){var b,e=a(this);e.is("a")?b=e:(b=e.find("a")).length||(e.wrapInner('<a data-ca-created href="#'+c.id+'"></a>'),b=e.find("a")),b.addClass("ca-link"),b.attr("aria-controls",d)})}function i(b,c,d){var e=this.parent.opts,f=this,g="expanded",h=e.classNames.expanded,i=e.classNames.collapsed;"collapse"===b&&(g="collapsed",h=e.classNames.collapsed,i=e.classNames.expanded);var j=a.Event(g+".collapsable",{customData:d,originalEvent:c});return this.isExpanded="expand"===b,this.parent.$extLinks.filter('[href="#'+this.id+'"]')["expand"===b?"addClass":"removeClass"](e.classNames.extLinkActive),this.$controlLink.attr("aria-expanded","expand"===b),this.$box.attr("aria-hidden","expand"!==b),e.fx&&"object"==typeof e.fx?this.$box[e.fx[b]](e.fxDuration,function(){f.$collapsable.trigger(j)}):("toggle"===e.fx&&this.$box["expand"===b?"show":"hide"](),setTimeout(function(){f.$collapsable.trigger(j)},e.fxDuration)),this.$collapsable.removeClass(i).addClass(h),!0}var j={control:".ca-control",box:".ca-box",event:"click",fx:null,fxDuration:0,grouped:!1,collapsableAll:!0,preventDefault:!0,extLinks:{selector:"",preventDefault:!1},classNames:{expanded:"ca-expanded",collapsed:"ca-collapsed",defaultExpanded:"ca-default-expanded",extLinkActive:"ca-ext-active"}},k={init:function(a){return new m(this,a)},expandAll:function(a){c.call(this,"expandAll",a)},collapseAll:function(a){c.call(this,"collapseAll",a)},destroy:function(a){c.call(this,"destroy",a)}},l=0,m=function(c,h){this.opts=a.extend(!0,{},a.fn.collapsable.defaults,h),this.items=[];var i=this;return this.uid=b(),this.promiseOpen=!1,d.call(this),g.call(this),c.each(function(){var a=new n(i,this);a.$box.length&&a.$control.length&&i.items.push(a)}),e.call(this),f.call(this),this};m.prototype.getExpanded=function(){for(var a=[],b=this.items.length,c=0;b>c;c++)this.items[c].isExpanded&&a.push(c);return a},m.prototype.expandAll=function(b){if(!this.opts.grouped||!this.getExpanded().length)for(var c=a.Event("expandAll.collapsable"),d=this.items.length,e=0;d>e;e++)if(!this.items[e].isExpanded){var f=this.items[e].expand(c,b);if(this.opts.grouped&&f)break}},m.prototype.collapseAll=function(b){for(var c=a.Event("collapseAll.collapsable"),d=this.getExpanded(),e=d.length,f=0;e>f;f++)this.items[d[f]].collapse(c,b)},m.prototype.destroy=function(){for(var b=this.opts,c=this.items.length,d=0;c>d;d++){var e=this.items[d];e.$collapsable.removeClass(b.classNames.collapsed+" "+b.classNames.expanded).removeData("collapsable"),e.$control.find("[data-ca-created]").each(function(){a(this).parent().html(a(this).html())}),e.$control.find(".ca-link").addBack(".ca-link").off(b.event+".collapsable").removeClass("ca-link").removeAttr("aria-controls").removeAttr("aria-expanded");var f=e.$box.data("ca-pre-init-style")||"";e.$box.attr("style",f).removeData("ca-pre-init-style").removeAttr("aria-hidden"),e.$collapsable.trigger("destroy.collapsable")}this.$extLinks.off("click.collapsable")};var n=function(b,c){if(this.parent=b,this.$collapsable=a(c),this.id=this.$collapsable.attr("id"),this.$control=this.$collapsable.find(b.opts.control),this.$box=this.$collapsable.find(b.opts.box),0!=this.$control.length&&0!=this.$box.length){var d=this,e=this.parent.opts;return h.call(this),this.$controlLink=this.$control.find(".ca-link"),this.$controlLink.on(e.event+".collapsable",function(a,b){var c=b?b:a;e.preventDefault&&a.preventDefault(),d.isExpanded?d.collapse(c):d.expand(c)}),this.$collapsable.data("collapsable",this),this}};n.prototype.expand=function(b,c,d){var e=this.parent.opts,f=this.parent.getExpanded();if(this.parent.promiseOpen=!0,e.grouped&&f.length&&this.parent.items[f[0]].collapse(b,c,d)===!1)return this.parent.promiseOpen=!1,!1;this.parent.promiseOpen=!1;var g=a.Event("expand.collapsable",{customData:c,originalEvent:b});return this.$collapsable.trigger(g),g.isDefaultPrevented()&&!d?(!e.collapsableAll&&e.grouped&&this.parent.items[f[0]].expand(b,c,!0),!1):i.call(this,"expand",b)},n.prototype.collapse=function(b,c,d){var e=this.parent.opts;if(!e.collapsableAll&&!this.parent.promiseOpen&&this.parent.getExpanded().length<2)return!1;var f=a.Event("collapse.collapsable",{customData:c,originalEvent:b});return this.$collapsable.trigger(f),f.isDefaultPrevented()&&!d?!1:i.call(this,"collapse",b)},a.fn.collapsable=function(b){return k[b]?k[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.collapsable"):(k.init.apply(this,arguments),this)},a.fn.collapsable.defaults=j}(jQuery);