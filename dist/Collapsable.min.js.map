{"version":3,"file":"Collapsable.min.js","sources":["../src/utils.ts","../src/CollapsableItem.ts","../src/CollapsableExtLink.ts","../src/Collapsable.ts"],"sourcesContent":[null,null,null,null],"names":["isObject","item","Array","isArray","mergeDeep","target","sources","length","source","shift","key","Object","assign","caUid","CollapsableItem","constructor","collapsable","element","this","isExpanded","listenersMap","id","controlElements","querySelectorAll","options","control","boxElements","box","Error","from","controlLinkElements","prepareDOM","addHandlers","collapsableItem","ariaControlsAttr","forEach","index","boxItemId","push","link","tagName","toLowerCase","querySelector","document","createElement","dataset","caCreated","href","innerHTML","replaceChildren","classList","add","classNames","setAttribute","join","getAttribute","listener","event","passEvent","detail","collapsableEvent","preventDefault","collapse","expand","addEventListener","eventName","handleExpandCollapse","action","data","addClass","expanded","removeClass","collapsed","finishedEvent","CustomEvent","bubbles","getExtLinkById","extLink","toggleClass","String","removeAttribute","remove","setTimeout","dispatchEvent","fxDuration","force","expandedItem","getExpanded","promiseOpen","accordion","defaultPrevented","collapsableAll","isDefaultExpanded","contains","defaultExpanded","destroy","removeEventListener","parentElement","CollapsableExtLink","hash","substring","getItemById","addHandler","externalLinks","toggle","externalLinkActive","elements","extLinks","items","defaultExpandedItem","defaults","selector","handleExternalLinks","prepareDefaultExpanded","handleDefaultExpanded","window","location","filter","defaultExpandedFromUrl","find","undefined","slice","includes","expandAll","i","hasExpanded","collapseAll"],"mappings":"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"}