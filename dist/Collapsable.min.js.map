{"version":3,"file":"Collapsable.min.js","sources":["../src/utils.ts","../src/CollapsableItem.ts","../src/CollapsableExtLink.ts","../src/Collapsable.ts"],"sourcesContent":[null,null,null,null],"names":["isObject","item","Array","isArray","mergeDeep","target","sources","length","source","shift","key","Object","assign","caUid","CollapsableItem","constructor","collapsable","element","this","isExpanded","listenersMap","id","controlElements","querySelectorAll","options","control","boxElements","box","Error","from","controlLinkElements","prepareDOM","addHandlers","collapsableItem","ariaControlsAttr","forEach","index","boxItemId","push","link","tagName","toLowerCase","querySelector","document","createElement","dataset","caCreated","href","innerHTML","outerHTML","replaceWith","classList","add","classNames","setAttribute","join","getAttribute","listener","event","passEvent","detail","collapsableEvent","preventDefault","collapse","expand","addEventListener","eventName","handleExpandCollapse","action","data","addClass","expanded","removeClass","collapsed","finishedEvent","CustomEvent","bubbles","getExtLinkById","extLink","toggleClass","String","removeAttribute","remove","setTimeout","dispatchEvent","fxDuration","force","expandedItem","getExpanded","promiseOpen","accordion","defaultPrevented","collapsableAll","isDefaultExpanded","contains","defaultExpanded","destroy","removeEventListener","parentElement","CollapsableExtLink","hash","substring","getItemById","addHandler","externalLinks","toggle","externalLinkActive","elements","extLinks","items","defaultExpandedItem","defaults","selector","handleExternalLinks","prepareDefaultExpanded","handleDefaultExpanded","window","location","filter","defaultExpandedFromUrl","find","undefined","slice","includes","expandAll","i","hasExpanded","collapseAll"],"mappings":"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"}