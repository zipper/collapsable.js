{"version":3,"file":"Collapsable.min.js","sources":["../src/utils.ts","../src/CollapsableItem.ts","../src/CollapsableExtLink.ts","../src/Collapsable.ts"],"sourcesContent":[null,null,null,null],"names":["isObject","item","Array","isArray","mergeDeep","target","sources","length","source","shift","key","Object","assign","caUid","CollapsableItem","constructor","collapsable","element","this","className","isExpanded","listenersMap","id","controlElements","querySelectorAll","options","control","boxElements","box","Error","from","controlLinkElements","prepareDOM","addHandlers","collapsableItem","ariaControlsAttr","forEach","index","boxItemId","push","link","tagName","toLowerCase","querySelector","document","createElement","dataset","caCreated","href","innerHTML","outerHTML","replaceWith","classList","add","setAttribute","join","getAttribute","listener","event","passEvent","detail","collapsableEvent","preventDefault","collapse","expand","addEventListener","eventName","handleExpandCollapse","action","data","addClass","classNames","expanded","removeClass","collapsed","finishedEvent","CustomEvent","bubbles","getExtLinkById","extLink","toggleClass","String","removeAttribute","remove","setTimeout","dispatchEvent","fxDuration","force","expandedItem","getExpanded","promiseOpen","accordion","defaultPrevented","collapsableAll","isDefaultExpanded","contains","defaultExpanded","destroy","removeEventListener","parentElement","CollapsableExtLink","hash","substring","getItemById","addHandler","externalLinks","toggle","externalLinkActive","elements","extLinks","items","defaultExpandedItem","defaults","selector","handleExternalLinks","prepareDefaultExpanded","handleDefaultExpanded","window","location","filter","defaultExpandedFromUrl","find","undefined","slice","includes","expandAll","i","hasExpanded","collapseAll"],"mappings":"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"}